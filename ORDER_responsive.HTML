<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitTrack - Fitness & Nutrition Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables for consistent theming */
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #f8961e;
            --info: #4895ef;
            --light: #f8f9fa;
            --dark: #212529;
            --background: #f5f7fb;
            --card-bg: #ffffff;
            --text: #333333;
            --border: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            display: fixed;
            display: block;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Navigation Styles */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo i {
            margin-right: 10px;
            font-size: 2rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-links a:hover, 
        .nav-links a.active {
            background: rgba(255, 255, 255, 0.2);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Main Content Styles */
        main {
            padding: 2rem 0;
        }

        .section {
            display: none;
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: 0 4px 15px var(--shadow);
            padding: 2rem;
            margin-bottom: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: 0 4px 10px var(--shadow);
            padding: 1.5rem;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }

        .card-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Dashboard Styles */
        .summary-stats {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-box {
            background: linear-gradient(to right, var(--primary), var(--info));
            color: white;
            border-radius: var(--radius);
            padding: 1.5rem;
            flex: 1;
            min-width: 200px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .progress-container {
            margin: 1rem 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .progress-bar {
            height: 12px;
            background: var(--border);
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }

        .protein-fill {
            background: var(--success);
        }

        .carbs-fill {
            background: var(--info);
        }

        .fat-fill {
            background: var(--warning);
        }

        .water-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 1rem;
        }

        .water-cups {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .water-cup {
            width: 40px;
            height: 40px;
            background: var(--info);
            border-radius: 50%;
            opacity: 0.3;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: var(--transition);
        }

        .water-cup.active {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background: var(--light);
        }

        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 0.75rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .btn-block {
            display: flex;
            width: 100%;
        }

        /* Food Search Results */
        .search-results {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            margin-top: 1rem;
            display: none;
            background: var(--card-bg);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .result-item {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-item:hover {
            background: var(--background);
        }

        /* Table Styles */
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .table th, 
        .table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .table th {
            background: var(--background);
            font-weight: 600;
        }

        .table tr:hover {
            background: var(--background);
        }

        /* Weight Graph */
        .graph-container {
            height: 300px;
            position: relative;
            margin-top: 2rem;
        }

        .graph {
            width: 100%;
            height: 100%;
            border-left: 2px solid var(--dark);
            border-bottom: 2px solid var(--dark);
            position: relative;
            background: rgba(67, 97, 238, 0.05);
        }

        .graph-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
        }

        .graph-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--primary);
            border-radius: 50%;
            transform: translate(-50%, 50%);
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }

        /* Toast notifications */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background: var(--success);
            color: white;
            border-radius: var(--radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .summary-stats {
                flex-direction: column;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }

            .nav-links {
                position: fixed;
                top: 70px;
                right: -100%;
                width: 80%;
                max-width: 300px;
                flex-direction: column;
                background: var(--primary);
                padding: 2rem;
                transition: var(--transition);
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
                border-radius: 0 0 0 var(--radius);
            }

            .nav-links.active {
                right: 0;
            }

            .nav-links li {
                margin: 1rem 0;
            }

            .section {
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .stat-box {
                min-width: 100%;
            }
            
            .card {
                padding: 1rem;
            }
            
            .section {
                padding: 1rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 2rem;
        }

        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .footer-logo {
            font-size: 2rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .copyright {
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* Utility Classes */
        .text-center {
            text-align: center;
        }

        .mb-3 {
            margin-bottom: 1rem;
        }

        .mt-3 {
            margin-top: 1rem;
        }

        .hidden {
            display: none;
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .badge-breakfast {
            background: #ffd166;
            color: #333;
        }
        
        .badge-lunch {
            background: #06d6a0;
            color: white;
        }
        
        .badge-dinner {
            background: #118ab2;
            color: white;
        }
        
        .badge-snacks {
            background: #ef476f;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Header with Navigation -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <i class="fas fa-heartbeat"></i>
                    <span>FitTrack</span>
                </div>
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-links">
                    <li><a href="#dashboard" class="nav-link active" data-section="dashboard"><i class="fas fa-home"></i> لوحة التحكم</a></li>
                    <li><a href="#food" class="nav-link" data-section="food"><i class="fas fa-utensils"></i> الغذاء</a></li>
                    <li><a href="#activity" class="nav-link" data-section="activity"><i class="fas fa-running"></i> النشاط</a></li>
                    <li><a href="#weight" class="nav-link" data-section="weight"><i class="fas fa-weight"></i> الوزن</a></li>
                    <li><a href="#settings" class="nav-link" data-section="settings"><i class="fas fa-cog"></i> الإعدادات</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <h2 class="section-title"><i class="fas fa-tachometer-alt"></i> لوحة التحكم</h2>
            
            <div class="summary-stats">
                <div class="stat-box">
                    <div class="stat-value">1,850</div>
                    <div class="stat-label">السعرات المستهلكة</div>
                    <div class="progress-label">
                        <span>الهدف: 2,000</span>
                        <span>92.5%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="background: var(--success); width: 92.5%"></div>
                    </div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">65.3g</div>
                    <div class="stat-label">البروتين</div>
                    <div class="progress-label">
                        <span>الهدف: 80g</span>
                        <span>81.6%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill protein-fill" style="width: 81.6%"></div>
                    </div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">5</div>
                    <div class="stat-label">كؤوس الماء</div>
                    <div class="progress-label">
                        <span>الهدف: 8</span>
                        <span>62.5%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="background: var(--info); width: 62.5%"></div>
                    </div>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-chart-pie"></i> المغذيات الكبرى</h3>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>البروتين</span>
                            <span>65g (26%)</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill protein-fill" style="width: 26%"></div>
                        </div>
                    </div>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>الكربوهيدرات</span>
                            <span>215g (47%)</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill carbs-fill" style="width: 47%"></div>
                        </div>
                    </div>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>الدهون</span>
                            <span>48g (27%)</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill fat-fill" style="width: 27%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-glass-whiskey"></i> استهلاك الماء</h3>
                    <p>تابع استهلاكك اليومي من الماء</p>
                    <div class="water-container">
                        <div class="water-cups">
                            <div class="water-cup active"><i class="fas fa-tint"></i></div>
                            <div class="water-cup active"><i class="fas fa-tint"></i></div>
                            <div class="water-cup active"><i class="fas fa-tint"></i></div>
                            <div class="water-cup active"><i class="fas fa-tint"></i></div>
                            <div class="water-cup active"><i class="fas fa-tint"></i></div>
                            <div class="water-cup"><i class="fas fa-tint"></i></div>
                            <div class="water-cup"><i class="fas fa-tint"></i></div>
                            <div class="water-cup"><i class="fas fa-tint"></i></div>
                        </div>
                        <button class="btn" id="add-water"><i class="fas fa-plus"></i> إضافة</button>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-weight"></i> هدف الوزن</h3>
                    <div class="text-center mb-3">
                        <div class="stat-value">72.5 kg</div>
                        <div class="stat-label">الوزن الحالي</div>
                    </div>
                    <div class="progress-label">
                        <span>البداية: 75kg</span>
                        <span>الهدف: 70kg</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="background: var(--primary); width: 50%"></div>
                    </div>
                    <p class="mt-3 text-center">لقد خسرت 2.5kg (50% من هدفك)</p>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-fire"></i> ملخص النشاط</h3>
                    <div class="mb-3">
                        <p><i class="fas fa-walking"></i> المشي: 45 دقيقة - 250 سعرة</p>
                        <p><i class="fas fa-dumbbell"></i> رفع الأثقال: 30 دقيقة - 180 سعرة</p>
                    </div>
                    <div class="stat-box" style="background: linear-gradient(to right, var(--warning), var(--danger));">
                        <div class="stat-value">430</div>
                        <div class="stat-label">السعرات المحروقة اليوم</div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Food Tracking Section -->
        <section id="food" class="section">
            <h2 class="section-title"><i class="fas fa-utensils"></i> تتبع الغذاء</h2>
            
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-search"></i> إضافة طعام</h3>
                    
                    <div class="form-group">
                        <label class="form-label">بحث عن طعام</label>
                        <input type="text" class="form-control" id="food-search" placeholder="ابحث عن طعام...">
                        <div class="search-results" id="food-results"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">نوع الوجبة</label>
                        <select class="form-control" id="meal-type">
                            <option value="breakfast">فطور</option>
                            <option value="lunch">غداء</option>
                            <option value="dinner">عشاء</option>
                            <option value="snacks">وجبات خفيفة</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">الكمية</label>
                        <input type="number" class="form-control" id="food-quantity" value="100" min="1">
                        <select class="form-control mt-2" id="food-unit">
                            <option value="grams">غرام (g)</option>
                            <option value="cups">كؤوس</option>
                            <option value="pieces">قطع</option>
                            <option value="tbsp">ملاعق طعام (tbsp)</option>
                        </select>
                    </div>
                    
                    <div class="card mb-3">
                        <h4>المعلومات الغذائية</h4>
                        <p>السعرات: <span id="food-calories">0</span> سعرة</p>
                        <p>البروتين: <span id="food-protein">0</span>g</p>
                        <p>الكربوهيدرات: <span id="food-carbs">0</span>g</p>
                        <p>الدهون: <span id="food-fat">0</span>g</p>
                    </div>
                    
                    <button class="btn btn-block" id="add-food-btn"><i class="fas fa-plus-circle"></i> إضافة طعام</button>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-list"></i> سجل الطعام اليومي</h3>
                    
                    <div class="form-group">
                        <label class="form-label">تصفية حسب الوجبة</label>
                        <select class="form-control" id="meal-filter">
                            <option value="all">جميع الوجبات</option>
                            <option value="breakfast">فطور</option>
                            <option value="lunch">غداء</option>
                            <option value="dinner">عشاء</option>
                            <option value="snacks">وجبات خفيفة</option>
                        </select>
                    </div>
                    
                    <table class="table">
                        <thead>
                            <tr>
                                <th>الطعام</th>
                                <th>الوجبة</th>
                                <th>السعرات</th>
                                <th>الإجراء</th>
                            </tr>
                        </thead>
                        <tbody id="food-log-body"></tbody>
                        <tfoot id="food-log-footer"></tfoot>
                    </table>
                </div>
            </div>
        </section>
        
        <!-- Activity Tracking Section -->
        <section id="activity" class="section">
            <h2 class="section-title"><i class="fas fa-running"></i> تتبع النشاط</h2>
            
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-plus-circle"></i> إضافة نشاط</h3>
                    
                    <div class="form-group">
                        <label class="form-label">نوع النشاط</label>
                        <select class="form-control" id="activity-type">
                            <option value="walking">المشي</option>
                            <option value="running">الجري</option>
                            <option value="cycling">ركوب الدراجات</option>
                            <option value="swimming">السباحة</option>
                            <option value="weightlifting">رفع الأثقال</option>
                            <option value="yoga">اليوغا</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">المدة (دقائق)</label>
                        <input type="number" class="form-control" id="activity-duration" value="30" min="1">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">الشدة</label>
                        <select class="form-control" id="activity-intensity">
                            <option value="light">خفيف</option>
                            <option value="moderate" selected>متوسط</option>
                            <option value="vigorous">قوي</option>
                        </select>
                    </div>
                    
                    <div class="card mb-3">
                        <h4>السعرات المحروقة</h4>
                        <p class="stat-value">250 سعرة</p>
                        <p>بناءً على وزنك وشدة النشاط</p>
                    </div>
                    
                    <button class="btn btn-block" id="add-activity-btn"><i class="fas fa-plus-circle"></i> إضافة نشاط</button>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-history"></i> الأنشطة الحديثة</h3>
                    
                    <table class="table">
                        <thead>
                            <tr>
                                <th>النشاط</th>
                                <th>المدة</th>
                                <th>السعرات</th>
                                <th>التاريخ</th>
                            </tr>
                        </thead>
                        <tbody id="activity-log-body"></tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <!-- Weight Tracking Section -->
        <section id="weight" class="section">
            <h2 class="section-title"><i class="fas fa-weight"></i> تتبع الوزن</h2>
            
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-plus"></i> تسجيل الوزن</h3>
                    
                    <div class="form-group">
                        <label class="form-label">الوزن (كجم)</label>
                        <input type="number" class="form-control" id="weight-value" step="0.1" min="1" value="72.5">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">التاريخ</label>
                        <input type="date" class="form-control" id="weight-date" value="2023-08-15">
                    </div>
                    
                    <button class="btn btn-block" id="save-weight-btn"><i class="fas fa-save"></i> حفظ الوزن</button>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-chart-line"></i> تقدم الوزن</h3>
                    
                    <div class="graph-container">
                        <div class="graph">
                            <div class="graph-line"></div>
                            <!-- سيتم إضافة نقاط الوزن ديناميكيًا -->
                        </div>
                    </div>
                    
                    <div class="text-center mt-3">
                        <div class="stat-value">72.5 كجم</div>
                        <div class="stat-label">الوزن الحالي</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-list"></i> تاريخ الوزن</h3>
                
                <table class="table">
                    <thead>
                        <tr>
                            <th>التاريخ</th>
                            <th>الوزن (كجم)</th>
                            <th>التغيير</th>
                        </tr>
                    </thead>
                    <tbody id="weight-history-body"></tbody>
                </table>
            </div>
        </section>
        
        <!-- Settings Section -->
        <section id="settings" class="section">
            <h2 class="section-title"><i class="fas fa-cog"></i> الإعدادات</h2>
            
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-user"></i> الملف الشخصي</h3>
                    
                    <div class="form-group">
                        <label class="form-label">الاسم</label>
                        <input type="text" class="form-control" id="user-name" value="أحمد محمد">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">العمر</label>
                        <input type="number" class="form-control" id="user-age" value="32">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">الجنس</label>
                        <select class="form-control" id="user-gender">
                            <option>ذكر</option>
                            <option>أنثى</option>
                            <option>آخر</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">الطول (سم)</label>
                        <input type="number" class="form-control" id="user-height" value="178">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">مستوى النشاط</label>
                        <select class="form-control" id="user-activity">
                            <option>قليل النشاط</option>
                            <option selected>نشاط خفيف</option>
                            <option>نشاط متوسط</option>
                            <option>نشاط عالي</option>
                            <option>نشاط عالي جداً</option>
                        </select>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-bullseye"></i> الأهداف</h3>
                    
                    <div class="form-group">
                        <label class="form-label">السعرات اليومية</label>
                        <input type="number" class="form-control" id="goal-calories" value="2000">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">البروتين المستهدف (g)</label>
                        <input type="number" class="form-control" id="goal-protein" value="80">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">الكربوهيدرات المستهدفة (g)</label>
                        <input type="number" class="form-control" id="goal-carbs" value="250">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">الدهون المستهدفة (g)</label>
                        <input type="number" class="form-control" id="goal-fat" value="70">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">هدف الوزن</label>
                        <select class="form-control" id="goal-weight">
                            <option>فقدان الوزن</option>
                            <option selected>الحفاظ على الوزن</option>
                            <option>زيادة الوزن</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">الوزن المستهدف (كجم)</label>
                        <input type="number" class="form-control" id="goal-target-weight" value="70">
                    </div>
                    
                    <button class="btn btn-block" id="save-settings-btn"><i class="fas fa-save"></i> حفظ الإعدادات</button>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-heartbeat"></i> FitTrack
                </div>
                <p>رفيقك الشخصي لللياقة البدنية والتغذية</p>
                <p class="copyright">© 2023 FitTrack. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <div class="toast" id="toast"></div>

    <script>
        // DOM Elements
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section');
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navMenu = document.querySelector('.nav-links');
        const foodSearch = document.getElementById('food-search');
        const foodResults = document.getElementById('food-results');
        const waterCups = document.querySelectorAll('.water-cup');
        const addWaterBtn = document.getElementById('add-water');
        const addFoodBtn = document.getElementById('add-food-btn');
        const addActivityBtn = document.getElementById('add-activity-btn');
        const saveWeightBtn = document.getElementById('save-weight-btn');
        const saveSettingsBtn = document.getElementById('save-settings-btn');
        const mealFilter = document.getElementById('meal-filter');
        const toast = document.getElementById('toast');
        
        // App State
        let appState = {
            waterIntake: 5,
            foodLog: [
                { id: 1, name: "شوفان (100g)", meal: "breakfast", calories: 389 },
                { id: 2, name: "موزة (1 متوسطة)", meal: "breakfast", calories: 105 },
                { id: 3, name: "سلطة دجاج (250g)", meal: "lunch", calories: 320 },
                { id: 4, name: "مشروب بروتين (1 حصة)", meal: "snacks", calories: 120 }
            ],
            activities: [
                { id: 1, name: "المشي", duration: 45, calories: 250, date: "اليوم" },
                { id: 2, name: "رفع الأثقال", duration: 30, calories: 180, date: "اليوم" },
                { id: 3, name: "الجري", duration: 20, calories: 220, date: "أمس" },
                { id: 4, name: "ركوب الدراجات", duration: 60, calories: 420, date: "منذ يومين" }
            ],
            weights: [
                { id: 1, date: "15 أغسطس 2023", weight: 72.5, change: -0.2 },
                { id: 2, date: "10 أغسطس 2023", weight: 72.7, change: -0.3 },
                { id: 3, date: "5 أغسطس 2023", weight: 73.0, change: -0.5 },
                { id: 4, date: "1 أغسطس 2023", weight: 73.5, change: -0.8 },
                { id: 5, date: "25 يوليو 2023", weight: 74.3, change: -0.7 }
            ],
            settings: {
                name: "أحمد محمد",
                age: 32,
                gender: "ذكر",
                height: 178,
                activityLevel: "نشاط خفيف",
                calories: 2000,
                protein: 80,
                carbs: 250,
                fat: 70,
                weightGoal: "الحفاظ على الوزن",
                targetWeight: 70
            },
            selectedFood: null
        };

        // Predefined food database
        const foodDatabase = [
            { id: 1, name: "تفاح", calories: 52, protein: 0.3, carbs: 14, fat: 0.2, unit: "grams" },
            { id: 2, name: "موز", calories: 89, protein: 1.1, carbs: 22.8, fat: 0.3, unit: "grams" },
            { id: 3, name: "صدر دجاج", calories: 165, protein: 31, carbs: 0, fat: 3.6, unit: "grams" },
            { id: 4, name: "أرز بني", calories: 111, protein: 2.6, carbs: 23, fat: 0.9, unit: "grams" },
            { id: 5, name: "سلمون", calories: 208, protein: 20, carbs: 0, fat: 13, unit: "grams" },
            { id: 6, name: "شوفان", calories: 389, protein: 16.9, carbs: 66.3, fat: 6.9, unit: "grams" },
            { id: 7, name: "بيض", calories: 155, protein: 13, carbs: 1.1, fat: 11, unit: "pieces" },
            { id: 8, name: "خبز قمح كامل", calories: 247, protein: 13, carbs: 41, fat: 3.4, unit: "grams" },
            { id: 9, name: "زبادي يوناني", calories: 59, protein: 10, carbs: 3.6, fat: 0.4, unit: "grams" },
            { id: 10, name: "لوز", calories: 579, protein: 21, carbs: 22, fat: 50, unit: "grams" }
        ];

        // Navigation Functionality
        function activateSection(sectionId) {
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            document.querySelector(`.nav-link[data-section="${sectionId}"]`).classList.add('active');
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.getAttribute('data-section');
                activateSection(sectionId);
                navMenu.classList.remove('active');
            });
        });

        // Mobile Menu Toggle
        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Food Search Functionality
        foodSearch.addEventListener('input', () => {
            const searchTerm = foodSearch.value.trim().toLowerCase();
            
            if (searchTerm.length > 1) {
                foodResults.style.display = 'block';
                
                // Filter food database
                const filteredFoods = foodDatabase.filter(food => 
                    food.name.toLowerCase().includes(searchTerm)
                );
                
                // Update results
                foodResults.innerHTML = '';
                
                if (filteredFoods.length === 0) {
                    const noResults = document.createElement('div');
                    noResults.className = 'result-item';
                    noResults.textContent = 'لم يتم العثور على نتائج';
                    foodResults.appendChild(noResults);
                } else {
                    filteredFoods.forEach(food => {
                        const item = document.createElement('div');
                        item.className = 'result-item';
                        item.dataset.id = food.id;
                        item.innerHTML = `<strong>${food.name}</strong> - ${food.calories} سعرة لكل 100g`;
                        foodResults.appendChild(item);
                        
                        // Add click event to select food
                        item.addEventListener('click', () => {
                            foodSearch.value = food.name;
                            foodResults.style.display = 'none';
                            
                            // Store selected food
                            appState.selectedFood = food;
                            
                            // Update nutritional info
                            updateNutritionInfo();
                        });
                    });
                }
            } else {
                foodResults.style.display = 'none';
            }
        });

        // Update nutritional info based on quantity
        function updateNutritionInfo() {
            if (!appState.selectedFood) return;
            
            const quantity = parseFloat(document.getElementById('food-quantity').value) || 100;
            const food = appState.selectedFood;
            
            const multiplier = quantity / 100;
            
            document.getElementById('food-calories').textContent = Math.round(food.calories * multiplier);
            document.getElementById('food-protein').textContent = (food.protein * multiplier).toFixed(1);
            document.getElementById('food-carbs').textContent = (food.carbs * multiplier).toFixed(1);
            document.getElementById('food-fat').textContent = (food.fat * multiplier).toFixed(1);
        }
        
        // Listen for quantity changes
        document.getElementById('food-quantity').addEventListener('input', updateNutritionInfo);

        // Add food to log
        addFoodBtn.addEventListener('click', () => {
            if (!appState.selectedFood) {
                showToast('الرجاء اختيار طعام أولاً', 'danger');
                return;
            }
            
            const mealType = document.getElementById('meal-type').value;
            const quantity = parseFloat(document.getElementById('food-quantity').value) || 100;
            const food = appState.selectedFood;
            const multiplier = quantity / 100;
            
            const newFood = {
                id: Date.now(),
                name: `${food.name} (${quantity}${food.unit === 'grams' ? 'g' : food.unit === 'pieces' ? 'pc' : ''})`,
                meal: mealType,
                calories: Math.round(food.calories * multiplier)
            };
            
            appState.foodLog.push(newFood);
            updateFoodLogTable();
            showToast('تمت إضافة الطعام بنجاح', 'success');
            
            // Reset form
            foodSearch.value = '';
            appState.selectedFood = null;
            document.getElementById('food-calories').textContent = '0';
            document.getElementById('food-protein').textContent = '0';
            document.getElementById('food-carbs').textContent = '0';
            document.getElementById('food-fat').textContent = '0';
            document.getElementById('food-quantity').value = '100';
        });

        // Update food log table
        function updateFoodLogTable() {
            const tbody = document.getElementById('food-log-body');
            const tfoot = document.getElementById('food-log-footer');
            const filterValue = mealFilter.value;
            
            tbody.innerHTML = '';
            
            let totalCalories = 0;
            let filteredFoods = appState.foodLog;
            
            if (filterValue !== 'all') {
                filteredFoods = appState.foodLog.filter(food => food.meal === filterValue);
            }
            
            filteredFoods.forEach(food => {
                const tr = document.createElement('tr');
                
                // Get meal badge
                let mealBadge = '';
                switch(food.meal) {
                    case 'breakfast':
                        mealBadge = '<span class="badge badge-breakfast">فطور</span>';
                        break;
                    case 'lunch':
                        mealBadge = '<span class="badge badge-lunch">غداء</span>';
                        break;
                    case 'dinner':
                        mealBadge = '<span class="badge badge-dinner">عشاء</span>';
                        break;
                    case 'snacks':
                        mealBadge = '<span class="badge badge-snacks">وجبة خفيفة</span>';
                        break;
                }
                
                tr.innerHTML = `
                    <td>${food.name}</td>
                    <td>${mealBadge}</td>
                    <td>${food.calories}</td>
                    <td><button class="btn delete-food" data-id="${food.id}" style="padding: 0.25rem 0.5rem; background: var(--danger);"><i class="fas fa-trash"></i></button></td>
                `;
                tbody.appendChild(tr);
                totalCalories += food.calories;
            });
            
            tfoot.innerHTML = `
                <tr>
                    <th>المجموع</th>
                    <th></th>
                    <th>${totalCalories}</th>
                    <th></th>
                </tr>
            `;
            
            // Add event listeners to delete buttons
            document.querySelectorAll('.delete-food').forEach(btn => {
                btn.addEventListener('click', function() {
                    const foodId = parseInt(this.dataset.id);
                    appState.foodLog = appState.foodLog.filter(food => food.id !== foodId);
                    updateFoodLogTable();
                    showToast('تم حذف الطعام', 'info');
                });
            });
        }
        
        // Filter food log by meal type
        mealFilter.addEventListener('change', updateFoodLogTable);

        // Water Intake Tracking
        function updateWaterCups() {
            waterCups.forEach((cup, index) => {
                if (index < appState.waterIntake) {
                    cup.classList.add('active');
                } else {
                    cup.classList.remove('active');
                }
            });
        }
        
        waterCups.forEach((cup, index) => {
            cup.addEventListener('click', () => {
                appState.waterIntake = index + 1;
                updateWaterCups();
                showToast('تم تحديث كمية الماء', 'info');
            });
        });
        
        addWaterBtn.addEventListener('click', () => {
            if (appState.waterIntake < 8) {
                appState.waterIntake++;
                updateWaterCups();
                showToast('تمت إضافة كوب ماء', 'success');
            } else {
                showToast('لقد وصلت إلى الحد الأقصى اليومي', 'info');
            }
        });

        // Show toast notification
        function showToast(message, type = 'success') {
            toast.textContent = message;
            toast.className = 'toast show';
            
            // Set background color based on type
            if (type === 'success') toast.style.background = 'var(--success)';
            if (type === 'danger') toast.style.background = 'var(--danger)';
            if (type === 'info') toast.style.background = 'var(--info)';
            if (type === 'warning') toast.style.background = 'var(--warning)';
            
            setTimeout(() => {
                toast.className = 'toast';
            }, 3000);
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Load initial data
            updateWaterCups();
            updateFoodLogTable();
            updateActivityTable();
            updateWeightHistory();
            updateWeightGraph();
            
            // Load settings
            document.getElementById('user-name').value = appState.settings.name;
            document.getElementById('user-age').value = appState.settings.age;
            document.getElementById('user-gender').value = appState.settings.gender;
            document.getElementById('user-height').value = appState.settings.height;
            document.getElementById('user-activity').value = appState.settings.activityLevel;
            document.getElementById('goal-calories').value = appState.settings.calories;
            document.getElementById('goal-protein').value = appState.settings.protein;
            document.getElementById('goal-carbs').value = appState.settings.carbs;
            document.getElementById('goal-fat').value = appState.settings.fat;
            document.getElementById('goal-weight').value = appState.settings.weightGoal;
            document.getElementById('goal-target-weight').value = appState.settings.targetWeight;
        });

        // Update activity table
        function updateActivityTable() {
            const tbody = document.getElementById('activity-log-body');
            tbody.innerHTML = '';
            
            appState.activities.forEach(activity => {
                const tr = document.createElement('tr');
                
                let icon = '';
                switch(activity.name) {
                    case 'المشي': icon = '<i class="fas fa-walking"></i>'; break;
                    case 'رفع الأثقال': icon = '<i class="fas fa-dumbbell"></i>'; break;
                    case 'الجري': icon = '<i class="fas fa-running"></i>'; break;
                    case 'ركوب الدراجات': icon = '<i class="fas fa-bicycle"></i>'; break;
                    default: icon = '<i class="fas fa-heartbeat"></i>';
                }
                
                tr.innerHTML = `
                    <td>${icon} ${activity.name}</td>
                    <td>${activity.duration} دقيقة</td>
                    <td>${activity.calories}</td>
                    <td>${activity.date}</td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // Add new activity
        addActivityBtn.addEventListener('click', () => {
            const type = document.getElementById('activity-type').value;
            const duration = parseInt(document.getElementById('activity-duration').value) || 30;
            const intensity = document.getElementById('activity-intensity').value;
            
            if (!duration || duration <= 0) {
                showToast('الرجاء إدخال مدة صحيحة', 'danger');
                return;
            }
            
            // Calculate calories based on type and intensity
            let baseCalories = 0;
            switch(type) {
                case 'walking': baseCalories = 4; break;
                case 'running': baseCalories = 10; break;
                case 'cycling': baseCalories = 8; break;
                case 'swimming': baseCalories = 7; break;
                case 'weightlifting': baseCalories = 5; break;
                case 'yoga': baseCalories = 3; break;
            }
            
            let intensityMultiplier = 1;
            switch(intensity) {
                case 'light': intensityMultiplier = 0.8; break;
                case 'moderate': intensityMultiplier = 1; break;
                case 'vigorous': intensityMultiplier = 1.5; break;
            }
            
            const calories = Math.round(baseCalories * duration * intensityMultiplier);
            
            // Get Arabic activity name
            let activityName = '';
            switch(type) {
                case 'walking': activityName = 'المشي'; break;
                case 'running': activityName = 'الجري'; break;
                case 'cycling': activityName = 'ركوب الدراجات'; break;
                case 'swimming': activityName = 'السباحة'; break;
                case 'weightlifting': activityName = 'رفع الأثقال'; break;
                case 'yoga': activityName = 'اليوغا'; break;
            }
            
            const newActivity = {
                id: Date.now(),
                name: activityName,
                duration: duration,
                calories: calories,
                date: 'اليوم'
            };
            
            appState.activities.unshift(newActivity);
            updateActivityTable();
            showToast('تمت إضافة النشاط بنجاح', 'success');
        });

        // Update weight history table
        function updateWeightHistory() {
            const tbody = document.getElementById('weight-history-body');
            tbody.innerHTML = '';
            
            appState.weights.forEach(weight => {
                const tr = document.createElement('tr');
                
                let changeClass = 'text-success';
                let changeIcon = '<i class="fas fa-arrow-down"></i>';
                if (weight.change > 0) {
                    changeClass = 'text-danger';
                    changeIcon = '<i class="fas fa-arrow-up"></i>';
                }
                
                tr.innerHTML = `
                    <td>${weight.date}</td>
                    <td>${weight.weight} كجم</td>
                    <td class="${changeClass}">${changeIcon} ${Math.abs(weight.change)} كجم</td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // Update weight graph
        function updateWeightGraph() {
            const graph = document.querySelector('.graph');
            graph.innerHTML = '<div class="graph-line"></div>';
            
            // Only show graph if we have enough data
            if (appState.weights.length > 1) {
                const maxWeight = Math.max(...appState.weights.map(w => w.weight));
                const minWeight = Math.min(...appState.weights.map(w => w.weight));
                const weightRange = maxWeight - minWeight;
                
                // Add points
                appState.weights.forEach((weight, index) => {
                    const point = document.createElement('div');
                    point.className = 'graph-point';
                    
                    // Calculate position
                    const xPos = (index / (appState.weights.length - 1)) * 100;
                    const yPos = 100 - ((weight.weight - minWeight) / weightRange * 90);
                    
                    point.style.left = `${xPos}%`;
                    point.style.bottom = `${yPos}%`;
                    
                    // Add tooltip
                    point.title = `${weight.weight}kg - ${weight.date}`;
                    
                    graph.appendChild(point);
                });
            }
        }
        
        // Save new weight
        saveWeightBtn.addEventListener('click', () => {
            const weightValue = parseFloat(document.getElementById('weight-value').value);
            const weightDate = document.getElementById('weight-date').value;
            
            if (!weightValue || weightValue <= 0) {
                showToast('الرجاء إدخال وزن صحيح', 'danger');
                return;
            }
            
            // Format date
            const dateObj = new Date(weightDate);
            const formattedDate = dateObj.toLocaleDateString('ar-EG', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            
            // Calculate change
            let change = 0;
            if (appState.weights.length > 0) {
                const lastWeight = appState.weights[0].weight;
                change = (lastWeight - weightValue).toFixed(1);
            }
            
            const newWeight = {
                id: Date.now(),
                date: formattedDate,
                weight: weightValue,
                change: change
            };
            
            appState.weights.unshift(newWeight);
            updateWeightHistory();
            updateWeightGraph();
            showToast('تم حفظ الوزن بنجاح', 'success');
        });
        
        // Save settings
        saveSettingsBtn.addEventListener('click', () => {
            appState.settings = {
                name: document.getElementById('user-name').value,
                age: parseInt(document.getElementById('user-age').value),
                gender: document.getElementById('user-gender').value,
                height: parseInt(document.getElementById('user-height').value),
                activityLevel: document.getElementById('user-activity').value,
                calories: parseInt(document.getElementById('goal-calories').value),
                protein: parseInt(document.getElementById('goal-protein').value),
                carbs: parseInt(document.getElementById('goal-carbs').value),
                fat: parseInt(document.getElementById('goal-fat').value),
                weightGoal: document.getElementById('goal-weight').value,
                targetWeight: parseInt(document.getElementById('goal-target-weight').value)
            };
            
            showToast('تم حفظ الإعدادات بنجاح', 'success');
        });

        // Close search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!foodSearch.contains(e.target)) {
                foodResults.style.display = 'none';
            }
        });

        // Responsive adjustments
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                navMenu.classList.remove('active');
            }
        });
    </script>
</body>
</html>